<div class="hitory-table">

  <div class="search-history-panel">
      <mat-card class="history-card">
          <mat-card-header>
            <mat-card-title>Критерии за търсене</mat-card-title>
          </mat-card-header>

          <div class="search-company-panel">
            <h3 *ngIf="companyIDs.length >= 1">Предприятие: {{selectedValue}}</h3>
            <mat-divider></mat-divider>
            <mat-form-field style="width: 22.5%; margin-top: 1%;" *ngIf="companyIDs.length > 1">
              <mat-select placeholder="Търси" [(ngModel)]="selectedValue">
                <mat-option *ngFor="let company of userCompanies" [value]="company.name">
                  {{company.name}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>

          <mat-card-content style="margin-bottom: 0px; height: 70px;">
           <form fxLayout="column" [formGroup]="searchPanelForm">
              <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">

                  <mat-form-field appearance="outline" fxFlex="120" class="pr-4">
                      <mat-label>Вх. номер</mat-label>
                      <input matInput formControlName="entryNumber">
                  </mat-form-field>

                  <mat-form-field appearance="outline" fxFlex="150" class="pl-4">
                      <mat-label>Статус</mat-label>
                      <input matInput formControlName="status">
                  </mat-form-field>

                  <mat-form-field appearance="outline" fxFlex="160" class="pl-4">
                      <mat-label>Година от</mat-label>
                      <input matInput formControlName="yearFrom">
                  </mat-form-field>

                  <mat-form-field appearance="outline" fxFlex="160" class="pl-4">
                      <mat-label>Година до</mat-label>
                      <input matInput formControlName="yearTo">
                  </mat-form-field>
              </div>
           </form>
          </mat-card-content>
          <mat-card-actions>
            <button mat-button>Изчисти</button>
            <button mat-button>Търси</button>
          </mat-card-actions>
        </mat-card>
  </div>

  <table style="width: 100%;" mat-table [dataSource]="dataSource" class="mat-elevation-z8">

    <ng-container matColumnDef="entryNumber">
      <th mat-header-cell *matHeaderCellDef> Вх. номер </th>
      <td mat-cell *matCellDef="let element"> {{element.entryNumber}} </td>
    </ng-container>

    <ng-container matColumnDef="createdOn">
      <th mat-header-cell *matHeaderCellDef> Дата на създаване </th>
      <td mat-cell *matCellDef="let element"> {{element.createdOn}} </td>
    </ng-container>

    <ng-container matColumnDef="bulstat">
      <th mat-header-cell *matHeaderCellDef> Булстат </th>
      <td mat-cell *matCellDef="let element"> {{element.bulstat}} </td>
    </ng-container>

    <ng-container matColumnDef="operator">
      <th mat-header-cell *matHeaderCellDef> Оператор/Предприятие </th>
      <td mat-cell *matCellDef="let element"> {{element.operator}} </td>
    </ng-container>

    <ng-container matColumnDef="questionnaire">
      <th mat-header-cell *matHeaderCellDef> Въпросник </th>
      <td mat-cell *matCellDef="let element"> {{element.questionnaire}} </td>
    </ng-container>

    <ng-container matColumnDef="status">
      <th mat-header-cell *matHeaderCellDef> Статус </th>
      <td mat-cell *matCellDef="let element"> {{element.status}} </td>
    </ng-container>

    <ng-container matColumnDef="action">
      <th mat-header-cell *matHeaderCellDef> Действие </th>
      <td mat-cell *matCellDef="let element">
        <button matButton>Редакция</button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
</div>